**Read in other languages: [English](README.md)**

# React homework template

Цей проєкт було створено за допомогою
[Create React App](https://github.com/facebook/create-react-app). Для знайомства
та налаштування додаткових можливостей
[зверніться до документації](https://facebook.github.io/create-react-app/docs/getting-started).

## Підготовка нового проєкту

1. Переконайтеся, що на комп'ютері встановлено LTS-версію Node.js. Якщо треба
   [скачай і встанови](https://nodejs.org/en/).
2. Склонуй цей репозиторій.
3. Зміни ім'я папки з `react-homework-template` на ім'я свого проєкту.
4. Створи новий порожній репозиторій на GitHub.
5. Відкрий проєкт у VSCode, запусти термінал та зв'яжи проєкт з
   GitHub-репозиторієм
   [за інструкцією](https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url).
6. Встанови базові залежності проєкту командою `npm install`.
7. Запусти режим розробки, виконавши команду `npm start`.
8. Перейдіть в браузері за адресою
   [http://localhost:3000](http://localhost:3000). Ця сторінка буде автоматично
   перезавантажуватися після збереження змін у файлах проєкту.

## Розгортання (deployment)

Для налаштування деплою проєкту необхідно виконати кілька додаткових кроків для
налаштування твого репозиторію. Зайди у вкладку `Settings` та в підсекції
'Actions' вибери пункт 'General'.

![GitHub actions settings](./assets/actions-config-step-1.png)

Прокрути вниз до останньої секції, в якій вибери опції як на наступному
зображенні і натисни `Save`. Без цих налаштувань у збірки буде недостатньо прав
для автоматизації процесу розгортання.

![GitHub actions settings](./assets/actions-config-step-2.png)

Продакшн версія проєкту буде автоматично проходити лінтинг, збиратися і
розгортатися на GitHub Pages, у гілку `gh-pages`, щоразу коли оновлюється гілка
`main`. Наприклад, після прямого пуша або прийнятого пул-реквесту. Для цього
необхідно у файлі `package.json` відредагувати поле `homepage`, замінивши
`your_username` та `your_repo_name` на свої, та відправити зміни на GitHub.

``json "homepage": "https://your_username.github.io/your_repo_name/"

```

Далі необхідно зайти в налаштування GitHub-репозиторія (`Settings` > `Pages`) і виставити роздачу продакшн версії файлів з папки `/root` гілки `gh-pages`, якщо це не було зроблено автоматично.

![GitHub Pages settings](./assets/repo-settings.png)

### Стан розгортання (deployment status)

Стан розгортання крайнього комміту відображається іконкою біля його ідентифікатора.

- **Жовтий колір** - виконується збирання та розгортання проєкту.
- "Зелений колір" - розгортання завершено успішно.
- **Червоний колір** - під час лінтингу, збирання або розгортання сталася помилка.

Більш детальну інформацію про стан можна подивитися клацнувши по іконці, і у вікні, що випадає, перейти за посиланням `Details`.

![Deployment status](./assets/status.png)

### Жива сторінка

Через якийсь час, зазвичай кілька хвилин, живу сторінку можна буде подивитися за адресою, яку зазначено у відредагованій властивості `homepage`. Наприклад, ось посилання на живу версію для цього репозиторію
[https://goitacademy.github.io/react-homework-template](https://goitacademy.github.io/react-homework-template).

Якщо відкриється порожня сторінка, переконайтеся, що у вкладці Console немає помилок пов'язаних з неправильними шляхами до CSS і JS файлів проєкту (**404**). Швидше за все, у тебе неправильне значення властивості `homepage` у файлі `package.json`.

### Маршрутизація

Якщо програма використовує бібліотеку `react-router-dom` для маршрутизації, необхідно додатково налаштувати компонент `<BrowserRouter>`, передавши як пропс (props) `basename` точну назву твого репозиторію. Скісні риски (слеші) на початку та наприкінці рядка обов'язкові.

``jsx
<BrowserRouter basename="/your_repo_name/">
  <App />
</BrowserRouter>
```

## Як це працює

![How it works](./assets/how-it-works.png)

1. Після кожного пуша у гілку `main` GitHub-репозиторія, запускається
   спеціальний скрипт (GitHub Action) із файлу `.github/workflows/deploy.yml`.
2. Усі файли репозиторію копіюються на сервер, де проєкт ініціалізується та
   проходить лінтинг та збирання перед розгортанням.
3. Якщо всі кроки завершилися успішно, зібрана продакшн версія файлів проєкту
   відправляється у гілку `gh-pages`. В іншому випадку, у логу виконання скрипта
   буде інформація про проблему.
